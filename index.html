<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N√∂v√©nyismereti J√°t√©k</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        .menu, .submenu {
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            font-size: 18px;
            margin: 10px;
            cursor: pointer;
        }
        .submenu {
            display: none;
        }
        #sketchem-container {
            display: none;
        }
	#kepfelismeres-container {
    	    display: none;
	}
    </style>
</head>
<body>
    <h1>√údv√∂z√∂llek a N√∂v√©nyismereti J√°t√©kban!</h1>
    <p>V√°lassz egy feladatt√≠pust:</p>
    
    <div class="menu" id="mainMenu">
        <button onclick="showSubMenu('novenyfelismeres')">N√∂v√©nyfelismer√©s</button>
        <button onclick="showSubMenu('szamolas')">Sz√°mol√°si feladatok</button>
        <button onclick="showSubMenu('tabla')">T√°bl√°zatkit√∂lt√©s</button>
        <button onclick="showSubMenu('kepletek')">K√©pletek</button>
    </div>

    <!-- Almen√ºk -->

    <div class="submenu" id="novenyfelismeresSubMenu">
        <h2>N√∂v√©nyfelismer√©s</h2>
        <button onclick="startMakroszkopikusJatek()">Makroszk√≥pikus felismer√©s</button>
        <button onclick="startMikroszkopikusJatek()">Mikroszk√≥pikus felismer√©s</button>
        <button onclick="goBack()">üîô Vissza</button>
    </div>
	
    <div class="submenu" id="kepletekSubMenu">
        <h2>K√©pletek</h2>
        <button onclick="startFormulaRecognition()">K√©plet felismer√©s</button>
        <button onclick="startFormulaDrawing()">K√©plet rajzol√°s</button>
        <button onclick="goBack()">üîô Vissza</button>
    </div>

    <div id="sketchem-container">
        <h2>Rajzold le az al√°bbi molekul√°t:</h2>
        <h3 id="molekula-name"></h3>
        <p><button onclick="openSketChem()">üñå SketChem megnyit√°sa</button></p>
        <p>Miut√°n elk√©sz√ºlt√©l, export√°ld a SMILES k√≥dot (fels≈ë ikonok, lefele nyilas t√©glalap; .smi .smiles form√°tum), √©s m√°sold be ide:</p>
        <input type="text" id="smiles-input" placeholder="Illeszd be a SMILES k√≥dot">
        <br>
        <p>V√°laszd ki a csoportot:</p>
        <select id="csoport-select">
            <option value="Sz√©nhidr√°tok">Sz√©nhidr√°tok</option>
            <option value="Lipidek">Lipidek</option>
            <option value="N√∂v√©nyi savak">N√∂v√©nyi savak</option>
        </select>
        <br>
        <button onclick="exportSMILES()">‚úÖ Ellen≈ërz√©s</button>
        <button onclick="goBack()">üîô Vissza</button>
        <p id="smiles-output"></p>
        <button onclick="newMolecule()">√öj molekula</button>
        <button onclick="retry()">√öjrapr√≥b√°l√°s</button>
    </div>

    <div id="kepfelismeres-container">
    	<h2>Mi a k√©pen l√°that√≥ molekula neve?</h2>
    	<img id="molekula-kep" src="" alt="Molekula k√©pe" style="max-width: 300px; margin: 20px auto; display: block;">
    	<input type="text" id="name-input" placeholder="√çrd be a molekula nev√©t">
    	<br><br>
    	<button onclick="checkName()">‚úÖ Ellen≈ërz√©s</button>
    	<button onclick="goBack()">üîô Vissza</button>
    	<p id="name-output"></p>
    	<button onclick="newMoleculeRecognition()">√öj molekula</button>
    	<button onclick="retryRecognition()">√öjrapr√≥b√°l√°s</button>
    </div>
	

    <script>
        const molekulaAdatok = {
            "D-gl√ºk√≥z": { smiles: "OC1OC(CO)C(O)C(O)C1O", csoport: "Sz√©nhidr√°tok", image: "B-D-glukoz.jpg" },
            "D-frukt√≥z": { smiles: "OCC1OC(O)(CO)C(O)C1O", csoport: "Sz√©nhidr√°tok", image: "B-D-fruktoz.jpg" },
            "D-arabin√≥z": { smiles: "OC1C(O)C(O)C(O)OC1", csoport: "Sz√©nhidr√°tok", image: "B-D-arabinoz.jpg" },
            "szachar√≥z": { smiles: "OCC1OC(C(C(C1O)O)O)OC2(CO)C(O)C(O)C(O2)CO", csoport: "Sz√©nhidr√°tok", image: "szacharoz.jpg" },
            "D-ramn√≥z": { smiles: "CC1C(O)C(O)C(O)C(O1)O", csoport: "Sz√©nhidr√°tok", image: "A-D-ramnoz.jpg" },
            "D-xilit": { smiles: "OCC(O)C(O)C(O)CO", csoport: "Sz√©nhidr√°tok", image: "D-xilit.jpg" },
            "palmitinsav": { smiles: "CCCCCCCCCCCCCCCC(O)=O", csoport: "Lipidek", image: "palmitinsav.jpg" },
            "sztearinsav": { smiles: "CCCCCCCCCCCCCCCCC(=O)O", csoport: "Lipidek", image: "sztearinsav.jpg" },
            "olajsav": { smiles: "CCCCCCCCC=CCCCCCCCC(O)=O", csoport: "Lipidek", image: "olajsav.jpg" },
            "linolsav": { smiles: "CCCCCC=CCC=CCCCCCCCC(O)=O", csoport: "Lipidek", image: "linolsav.jpg" },
            "ricinolsav": { smiles: "CCCCCCCCC=CCCCCC(O)CC(=O)O", csoport: "Lipidek", image: "ricinolsav.jpg" },
            "alfa-linol√©nsav": { smiles: "CCC=CCC=CCC=CCCCCCCCC(O)=O", csoport: "Lipidek", image: "A-linolensav.jpg" },
            "gamma-linol√©nsav": { smiles: "CCCCCC=CCC=CCC=CCCCCC(O)=O", csoport: "Lipidek", image: "G-linolensav.jpg" },
            "b√©ta-szitoszterol": { smiles: "OC1CC=2C(C)(CC1)[CH]3[CH](CC=2)[CH]4C(C)(CC3)C(CC4)C(C)CCC(CC)C(C)C", csoport: "Lipidek", image: "B-szitoszterol.jpg" },
            "citromsav": { smiles: "O=C(O)CC(O)(C(=O)O)CC(O)=O", csoport: "N√∂v√©nyi savak", image: "citromsav.jpg" },
            "almasav": { smiles: "O=C(O)CC(O)C(=O)O", csoport: "N√∂v√©nyi savak", image: "almasav.jpg" },
            "bork≈ësav": { smiles: "OC(=O)C(O)C(O)C(=O)O", csoport: "N√∂v√©nyi savak", image: "borkosav.jpg" },
            "aszkorbinsav": { smiles: "O=C1O[CH](C(CO)O)C(O)=C1O", csoport: "N√∂v√©nyi savak", image: "aszkorbinsav.jpg" },
            "sikimisav": { smiles: "O=C(O)C=1CC(O)C(O)C(C=1)O", csoport: "N√∂v√©nyi savak", image: "sikimisav.jpg" }
        };
// F√ºggv√©nyek friss√≠t√©se

function showSubMenu(type) {
    // Minden elem elrejt√©se
    document.getElementById("mainMenu").style.display = "none";
    document.getElementById("kepletekSubMenu").style.display = "none";
    document.getElementById("novenyfelismeresSubMenu").style.display = "none";
    document.getElementById("sketchem-container").style.display = "none";
    document.getElementById("kepfelismeres-container").style.display = "none";

    // Almen√º megjelen√≠t√©se
    if (type === 'kepletek' || type === 'novenyfelismeres') {
        document.getElementById(type + "SubMenu").style.display = "block";
    } else {
        console.error("Ismeretlen almen√º t√≠pus:", type);
    }
}

function startFormulaRecognition() {
    document.getElementById("kepletekSubMenu").style.display = "none";
    document.getElementById("kepfelismeres-container").style.display = "block";
    newMoleculeRecognition();
}

// √öj f√ºggv√©nyek a k√©pfelismer√©shez
function newMoleculeRecognition() {
    const moleculeNames = Object.keys(molekulaAdatok);
    currentMolecule = moleculeNames[Math.floor(Math.random() * moleculeNames.length)];
    document.getElementById("molekula-kep").src = "DROG1ZHMOL/" + molekulaAdatok[currentMolecule].image;
}

function checkName() {
    const answer = document.getElementById("name-input").value.trim();
    const result = (answer.toLowerCase() === currentMolecule.toLowerCase()) ? "‚úîÔ∏è Helyes" : "‚ùå Helytelen";
    document.getElementById("name-output").innerHTML = result;
}

function retryRecognition() {
    document.getElementById("name-input").value = "";
    document.getElementById("name-output").innerHTML = "";
}
        let currentMolecule = "";
        
        

     
    	function goBack() {
    // Minden elem elrejt√©se
    	    document.getElementById("mainMenu").style.display = "block";
            document.getElementById("kepletekSubMenu").style.display = "none";
            document.getElementById("novenyfelismeresSubMenu").style.display = "none";
            document.getElementById("sketchem-container").style.display = "none";
            document.getElementById("kepfelismeres-container").style.display = "none";
	}
        
        function startFormulaDrawing() {
            document.getElementById("kepletekSubMenu").style.display = "none";
            document.getElementById("sketchem-container").style.display = "block";
            newMolecule();  // √∫j molekula kiv√°laszt√°sa
        }

        function openSketChem() {
            window.open("https://itayyaakov.github.io/SketChem/");
        }

        function exportSMILES() {
            const smilesCode = document.getElementById("smiles-input").value.trim();
            const selectedCsoport = document.getElementById("csoport-select").value;

            if (smilesCode && selectedCsoport) {
                const molekula = molekulaAdatok[currentMolecule];
                const isSmilesCorrect = smilesCode === molekula.smiles;
                const isCsoportCorrect = selectedCsoport === molekula.csoport;

                let resultText = `SMILES: ${isSmilesCorrect ? "‚úîÔ∏è Helyes" : "‚ùå Helytelen"}<br>`;
                resultText += `Csoport: ${isCsoportCorrect ? "‚úîÔ∏è Helyes" : "‚ùå Helytelen"}`;

                document.getElementById("smiles-output").innerHTML = resultText;
            } else {
                alert("T√∂ltse ki az √∂sszes mez≈ët!");
            }
        }

        function newMolecule() {
            const moleculeNames = Object.keys(molekulaAdatok);
            currentMolecule = moleculeNames[Math.floor(Math.random() * moleculeNames.length)];
            document.getElementById("molekula-name").innerText = currentMolecule;
        }

        function retry() {
            document.getElementById("smiles-input").value = "";
            document.getElementById("smiles-output").innerHTML = "";
        }
    </script>
</body>
</html>
